(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13d6b884"],{b620:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e._self._c;return a("div",{staticClass:"apply-container container"},[a("van-form",{staticClass:"form-scroll",attrs:{"validate-first":""},on:{failed:e.onFailed,submit:e.onSubmit}},[a("ul",{staticClass:"info-box"},[a("li",{staticClass:"info-label"},[a("i",{staticClass:"font_family icon-icon-location-20"}),a("span",[e._v("出发地：")]),a("span",{staticClass:"info-address"},[e._v(e._s(e.CarOneData.sFromAddr))])]),a("li",{staticClass:"info-label"},[a("i",{staticClass:"icon font_family icon-icon-destination-20"}),a("span",[e._v("目的地：")]),a("span",{staticClass:"info-address"},[e._v(e._s(e.CarOneData.sTargetAddr))])]),a("li",{staticClass:"info-label"},[a("i",{staticClass:"icon font_family icon-icon-date-20"}),a("span",[e._v("时间："),a("i")]),a("span",[e._v(e._s(e.CarOneData.dDepartureTime))])])]),a("div",{staticClass:"form-warpper"},[a("van-field",{attrs:{center:"",required:"",name:"nReasonName",readonly:"","right-icon":"arrow-down",clickable:"",label:"用车事由：",rules:[{required:!0}],placeholder:"点击选择用车事由"},on:{click:function(a){e.nReasonShowPicker=!0}},model:{value:e.formData.nReasonName,callback:function(a){e.$set(e.formData,"nReasonName",a)},expression:"formData.nReasonName"}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.nReasonShowPicker,callback:function(a){e.nReasonShowPicker=a},expression:"nReasonShowPicker"}},[a("van-picker",{attrs:{"show-toolbar":"","value-key":"label","default-index":e.nReasonActiveIndex,name:"nReasonCode",columns:e.dictReqReason},on:{confirm:e.nReasonConfirm,cancel:function(a){e.nReasonShowPicker=!1}}})],1),a("van-field",{attrs:{center:"",required:"",name:"nRangeName",readonly:"","right-icon":"arrow-down",clickable:"",label:"用车需求：",rules:[{required:!0}],placeholder:"点击选择用车需求"},on:{click:function(a){e.nRangeShowPicker=!0}},model:{value:e.formData.nRangeName,callback:function(a){e.$set(e.formData,"nRangeName",a)},expression:"formData.nRangeName"}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.nRangeShowPicker,callback:function(a){e.nRangeShowPicker=a},expression:"nRangeShowPicker"}},[a("van-picker",{attrs:{"show-toolbar":"","value-key":"label","default-index":e.nRangeActiveIndex,columns:e.dictReqRange},on:{confirm:e.nRangeConfirm,cancel:function(a){e.nRangeShowPicker=!1}}})],1),a("van-field",{attrs:{center:"",required:"",name:"nAboutHours",type:"digit",label:"用车时长：",placeholder:"请输入用车时长",rules:[{required:!0}]},scopedSlots:e._u([{key:"extra",fn:function(){return[a("span",[e._v("小时")])]},proxy:!0}]),model:{value:e.formData.nAboutHours,callback:function(a){e.$set(e.formData,"nAboutHours",a)},expression:"formData.nAboutHours"}}),a("van-field",{attrs:{center:"",required:"",name:"radio",label:"是否长途："},scopedSlots:e._u([{key:"input",fn:function(){return[a("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.formData.cLongDistance,callback:function(a){e.$set(e.formData,"cLongDistance",a)},expression:"formData.cLongDistance"}},[a("van-radio",{attrs:{name:"Y"}},[e._v("是")]),a("van-radio",{attrs:{name:"N"}},[e._v("否")])],1)]},proxy:!0}])}),a("van-field",{attrs:{center:"",required:"",name:"sPassenger",label:"乘车人：",placeholder:"请输入乘车人",rules:[{required:!0}],maxlength:"50"},model:{value:e.formData.sPassenger,callback:function(a){e.$set(e.formData,"sPassenger",a)},expression:"formData.sPassenger"}}),a("van-field",{attrs:{center:"",required:"",name:"sPhone",type:"tel",label:"联系电话：",placeholder:"请输入联系电话",rules:[{required:!0},{pattern:e.pattern,message:"联系电话输入错误!"}]},model:{value:e.formData.sPhone,callback:function(a){e.$set(e.formData,"sPhone",a)},expression:"formData.sPhone"}}),a("van-field",{attrs:{center:"",required:"",name:"sHopeCartype",readonly:"","right-icon":"arrow-down",clickable:"",label:"期望车型：",rules:[{required:!0}],placeholder:"点击选择期望车型"},on:{click:function(a){e.sHopeCartyPicker=!0}},model:{value:e.formData.sHopeCarname,callback:function(a){e.$set(e.formData,"sHopeCarname",a)},expression:"formData.sHopeCarname"}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.sHopeCartyPicker,callback:function(a){e.sHopeCartyPicker=a},expression:"sHopeCartyPicker"}},[a("van-picker",{attrs:{"show-toolbar":"","value-key":"label","default-index":e.sHopeCartyActiveIndex,columns:e.dictModelType},on:{confirm:e.sHopeCartyConfirm,cancel:function(a){e.sHopeCartyPicker=!1}}})],1),a("van-field",{attrs:{center:"",required:"",name:"nPassenger",type:"digit",label:"乘坐人数：",placeholder:"请输入乘坐人数",rules:[{required:!0}]},scopedSlots:e._u([{key:"extra",fn:function(){return[a("span",[e._v("人")])]},proxy:!0}]),model:{value:e.formData.nPassenger,callback:function(a){e.$set(e.formData,"nPassenger",a)},expression:"formData.nPassenger"}}),a("van-field",{staticClass:"form-textarea",attrs:{name:"sRemark",rows:"2",autosize:"",type:"textarea",maxlength:"50",placeholder:"请输入备注","show-word-limit":""},model:{value:e.formData.sRemark,callback:function(a){e.$set(e.formData,"sRemark",a)},expression:"formData.sRemark"}})],1),a("div",{staticClass:"button-box"},[a("van-button",{attrs:{block:"",type:"default"},on:{click:e.returnArtificials}},[e._v("上一步")]),a("van-button",{attrs:{block:"",type:"info","native-type":"submit"}},[e._v("选择车辆")])],1)])],1)},o=[],s=t("5530"),r=(t("14d9"),t("b64b"),t("2f62")),i=(t("f8b7"),{computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])(["userInfo"])),Object(r["b"])("dict",["dictReqReason","dictReqRange","dictModelType"])),Object(r["b"])("details",["Details","CarOneData","CarCopData"])),data:function(){return{pattern:/^1[3456789]\d{9}$/,nReasonShowPicker:!1,nRangeShowPicker:!1,sHopeCartyPicker:!1,nReasonActiveIndex:0,nRangeActiveIndex:2,sHopeCartyActiveIndex:0,formData:{nReasonName:"会议",nReasonCode:1,nRangeName:"全程",nRangeCode:3,sHopeCarname:"轿车",sHopeCartype:"1",cLongDistance:"N",sPassenger:"",sPhone:"",nPassenger:1,nAboutHours:2,sRemark:""}}},methods:{returnArtificials:function(){this.$router.go(-1)},onFailed:function(){},nReasonConfirm:function(e){this.formData.nReasonCode=e.value,this.formData.nReasonName=e.label,this.nReasonShowPicker=!1},nRangeConfirm:function(e){this.formData.nRangeCode=e.code,this.formData.nRangeName=e.label,this.nRangeShowPicker=!1},sHopeCartyConfirm:function(e){this.formData.sHopeCartype=e.code,this.formData.sHopeCarname=e.label,this.sHopeCartyPicker=!1},onSubmit:function(e){var a=this.Details.sOperator||"";this.$store.dispatch("details/setDetails",Object.assign({sOperator:a},this.CarOneData,this.formData));var t="Vehicie",n=this.$route.params.autoId;t="0"!=n?"Vehicie":"addVehicie",this.$router.push({name:"ChoiceVehicie",params:{typeVehicie:t}})}},created:function(){var e=this,a=this.userInfo;this.formData.sPassenger=a.name,this.formData.sPhone=a.phone,this.$store.dispatch("dict/dictGetReqRange"),this.$store.dispatch("dict/dictGetReqReason"),this.$store.dispatch("dict/dictGetModelType");var t=this.$route.params.autoId;Object.keys(this.CarOneData).length||this.$notify({type:"warning",message:"请先填写用车申请基本信息!",onClose:function(){e.$router.push({name:"StartApplyings",params:{autoId:t,type:"0"}})}});var n=this.Details;if(console.log(n),Object.keys(n).length)return this.nReasonActiveIndex=this.$options.filters.nReasonGoIndex(n.nReasonCode),this.nRangeActiveIndex=this.$options.filters.nReasonGoIndex(n.nRangeCode),this.sHopeCartyActiveIndex=this.$options.filters.cartypeGoIndex(n.sHopeCartype),this.formData.nReasonName=n.reason,this.formData.nReasonCode=n.nReasonCode,this.formData.nRangeName=n.range,this.formData.nRangeCode=n.nRangeCode,this.formData.sHopeCarname=n.hopeCarType,this.formData.sHopeCartype=n.sHopeCartype,this.formData.cLongDistance=this.$options.filters.longIs(n.cLongDistance),this.formData.sPassenger=n.sPassenger,this.formData.sPhone=n.sPhone,this.formData.nPassenger=n.nPassenger,this.formData.nAboutHours=n.nAboutHours,this.formData.sRemark=n.sRemark,!1;var o=this.CarCopData;Object.keys(o).length&&(this.nReasonActiveIndex=this.$options.filters.nReasonGoIndex(o.nReasonCode),this.nRangeActiveIndex=this.$options.filters.nReasonGoIndex(o.nRangeCode),this.sHopeCartyActiveIndex=this.$options.filters.cartypeGoIndex(o.sHopeCartype),this.formData.nReasonName=o.reason,this.formData.nReasonCode=o.nReasonCode,this.formData.nRangeName=o.range,this.formData.nRangeCode=o.nRangeCode,this.formData.sHopeCarname=o.hopeCarType,this.formData.sHopeCartype=o.sHopeCartype,this.formData.cLongDistance=this.$options.filters.longIs(o.cLongDistance),this.formData.sPassenger=o.sPassenger,this.formData.sPhone=o.sPhone,this.formData.nPassenger=o.nPassenger,this.formData.nAboutHours=o.nAboutHours,this.formData.sRemark=o.sRemark)}}),c=i,l=t("2877"),u=Object(l["a"])(c,n,o,!1,null,null,null);a["default"]=u.exports},f8b7:function(e,a,t){"use strict";t.d(a,"l",(function(){return o})),t.d(a,"m",(function(){return s})),t.d(a,"i",(function(){return r})),t.d(a,"j",(function(){return i})),t.d(a,"n",(function(){return c})),t.d(a,"b",(function(){return l})),t.d(a,"d",(function(){return u})),t.d(a,"e",(function(){return d})),t.d(a,"k",(function(){return f})),t.d(a,"c",(function(){return m})),t.d(a,"a",(function(){return p})),t.d(a,"f",(function(){return h})),t.d(a,"h",(function(){return g})),t.d(a,"g",(function(){return R}));var n=t("b775");function o(e){return Object(n["a"])({url:"/order/getOrderDetail",method:"GET",params:e})}function s(e){return Object(n["a"])({url:"/gcywVehicleRequest/dispatchListInfoH5",method:"GET",params:e})}function r(e){return Object(n["a"])({url:"/gcywVehicleRequestLog/list",method:"GET",params:e})}function i(e){return Object(n["a"])({url:"/gcywVehicleRequest/cancelVehicleRequest",method:"POST",data:e})}function c(e){return Object(n["a"])({url:"/gcywVehicleRequest/activiti/reject",method:"POST",data:e})}function l(e){return Object(n["a"])({url:"/activiti/assigneeList",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/gcywVehicleRequest/activiti/complete",method:"POST",data:e})}function d(e){return Object(n["a"])({url:"/gcywVehicleRequest/listPage",method:"GET",params:e})}function f(e){return Object(n["a"])({url:"/gcywVehicleRequest/confirmVehicleRequest",method:"POST",data:e})}function m(e){return Object(n["a"])({url:"/gcywVehicleRequest/addVehicleRequest",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/activiti/assigneeListByType",method:"get",params:e})}function h(e){return Object(n["a"])({url:"/gcywVehicleRequest/dispatchList",method:"get",params:e})}function g(e){return Object(n["a"])({url:"/gcywVehicleRequestLog/list",method:"get",params:e})}function R(e){return Object(n["a"])({url:"/gcywVehicleRequest/listPageForH5",method:"get",params:e})}}}]);