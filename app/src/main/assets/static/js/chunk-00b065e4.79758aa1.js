(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00b065e4"],{"0f02":function(t,e,n){},"45fc":function(t,e,n){"use strict";var s=n("23e7"),i=n("b727").some,a=n("a640"),r=a("some");s({target:"Array",proto:!0,forced:!r},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"99a9":function(t,e,n){"use strict";n("0f02")},"9a9a":function(t,e,n){"use strict";n("a732")},a732:function(t,e,n){"use strict";var s=n("23e7"),i=n("2266"),a=n("59ed"),r=n("825a"),c=n("46c4");s({target:"Iterator",proto:!0,real:!0},{some:function(t){r(this),a(t);var e=c(this),n=0;return i(e,(function(e,s){if(t(e,n++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},c4891:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-center-container"},[e("div",{staticClass:"user-top-container"},[e("span",[t._v(t._s(t.userInfo.realName))]),e("span",[t._v("所属单位："+t._s(t.userInfo.unitName))])]),e("div",{staticClass:"user-bottom-container"},[t.checkOrderAuthority()?e("div",{staticClass:"my-order-container box-container"},[e("span",{staticClass:"my-order-title"},[t._v("我的用车单")]),e("ul",[e("li",{on:{click:function(e){return t.handleOrderWaitClick()}}},[e("i",{staticClass:"order-wait default-icon-i"}),e("van-badge",{attrs:{content:t.orderWaitNumber}},[e("span",[t._v("进行中")])])],1),e("li",{on:{click:function(e){return t.handleOrderHistoryClick()}}},[e("i",{staticClass:"order-history default-icon-i"}),e("span",[t._v("历史订单")])])])]):t._e(),e("div",{staticClass:"menu-container box-container"},[e("ul",[e("li",{on:{click:function(e){return t.handleAddressClick()}}},[e("i",{staticClass:"address default-icon-i"}),e("span",[t._v("常用地址")]),e("span",{staticClass:"item-arrow"},[t._v(">")])]),e("li",{on:{click:function(e){return t.handleFeedBackClick()}}},[e("i",{staticClass:"feedback default-icon-i"}),e("span",[t._v("意见反馈")]),e("span",{staticClass:"item-arrow"},[t._v(">")])]),e("li",{on:{click:function(e){return t.handleSmsClick()}}},[e("i",{staticClass:"sms default-icon-i"}),e("span",[t._v("短信消息")]),"0"===t.userInfo.smsFlag?e("span",{staticClass:"sms-status-open"},[t._v("已开启")]):e("span",{staticClass:"sms-status-close"},[t._v("已关闭")])])])]),e("div",{staticClass:"user-info-container box-container"},[e("span",{staticClass:"my-order-title"},[t._v("用户信息")]),e("ul",[e("li",[e("span",{staticClass:"user-info-item"},[t._v("所属部门：")]),e("span",[t._v(t._s(t.userInfo.deptName||"暂无数据"))])]),e("li",[e("span",{staticClass:"user-info-item"},[t._v("部门职位：")]),e("span",[t._v(t._s(t.userInfo.postName||"暂无数据"))])]),e("li",[e("span",{staticClass:"user-info-item"},[t._v("联系电话：")]),e("span",[t._v(t._s(t.userInfo.phone||"暂无数据"))])])])]),t._m(0)])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"version-code-container"},[e("span",[t._v("版本信息：v1.0.2")])])}],a=(n("14d9"),n("45fc"),n("d3b7"),n("0643"),n("9a9a"),n("2f62")),r=n("3786"),c=n("f8b7"),u=n("2211"),o={mixins:[u["a"]],computed:Object(a["b"])(["userInfo"]),beforeRouteEnter:function(t,e,n){n((function(t){t.orderRequestList()}))},data:function(){return{menuData:[],orderWaitNumber:null,evaluateWaitNumber:null}},created:function(){},methods:{getIndexMenu:function(){var t=this;Object(r["c"])().then((function(e){var n=e.data;t.menuData=n,t.initMenu()})).catch((function(t){}))},orderRequestList:function(){var t=this,e=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0}),n={isFinsh:"2",pageNum:"1",pageSize:"10"};Object(c["m"])(n).then((function(e){var n=e.data;t.orderWaitNumber=n.total})).catch((function(e){t.waitLoading=!1,t.waitFinished=!0})).finally((function(){e.clear()}))},handleOrderWaitClick:function(){this.$router.push({name:"OutstandOrder",params:{menuActiveIndex:0}})},handleOrderHistoryClick:function(){this.$router.push({name:"OutstandOrder",params:{menuActiveIndex:1}})},handleAddressClick:function(){this.$router.push({name:"AddressList",params:{}})},handleFeedBackClick:function(){this.$router.push({path:"/Suggestion"})},checkOrderAuthority:function(){var t=this.menuData.some((function(t){return"我的用车单"===t.menuName}));return t},checkSmsStatus:function(){return"0"===this.userInfo.smsFlag?"已开启":"未开启"},handleSmsClick:function(){var t,e=this,n="0"===this.userInfo.smsFlag?"是否关闭短信服务？":"是否开启短信服务？";t="0"===this.userInfo.smsFlag?"1":"0",this.$dialog.confirm({title:"提示",message:n}).then((function(){e.smsUserModifys(t)})).catch((function(){}))},smsUserModifys:function(t){var e=this,n=[],s={};this.$set(s,"id",this.userInfo.id),this.$set(s,"smsFlag",t),n.push(s);var i=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0});Object(r["d"])(n).then((function(n){var s=n.message;e.$notify({type:"success",message:s}),e.userInfo.smsFlag=t,e.$store.dispatch("auth/changeSmsStatus",t)})).catch((function(t){e.$toast.fail("操作失败!")})).finally((function(){i.clear()}))}}},l=o,d=(n("99a9"),n("2877")),f=Object(d["a"])(l,s,i,!1,null,"5a095fde",null);e["default"]=f.exports},f8b7:function(t,e,n){"use strict";n.d(e,"l",(function(){return i})),n.d(e,"m",(function(){return a})),n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return c})),n.d(e,"n",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"f",(function(){return p})),n.d(e,"h",(function(){return v})),n.d(e,"g",(function(){return g}));var s=n("b775");function i(t){return Object(s["a"])({url:"/order/getOrderDetail",method:"GET",params:t})}function a(t){return Object(s["a"])({url:"/gcywVehicleRequest/dispatchListInfoH5",method:"GET",params:t})}function r(t){return Object(s["a"])({url:"/gcywVehicleRequestLog/list",method:"GET",params:t})}function c(t){return Object(s["a"])({url:"/gcywVehicleRequest/cancelVehicleRequest",method:"POST",data:t})}function u(t){return Object(s["a"])({url:"/gcywVehicleRequest/activiti/reject",method:"POST",data:t})}function o(t){return Object(s["a"])({url:"/activiti/assigneeList",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/gcywVehicleRequest/activiti/complete",method:"POST",data:t})}function d(t){return Object(s["a"])({url:"/gcywVehicleRequest/listPage",method:"GET",params:t})}function f(t){return Object(s["a"])({url:"/gcywVehicleRequest/confirmVehicleRequest",method:"POST",data:t})}function h(t){return Object(s["a"])({url:"/gcywVehicleRequest/addVehicleRequest",method:"post",data:t})}function m(t){return Object(s["a"])({url:"/activiti/assigneeListByType",method:"get",params:t})}function p(t){return Object(s["a"])({url:"/gcywVehicleRequest/dispatchList",method:"get",params:t})}function v(t){return Object(s["a"])({url:"/gcywVehicleRequestLog/list",method:"get",params:t})}function g(t){return Object(s["a"])({url:"/gcywVehicleRequest/listPageForH5",method:"get",params:t})}}}]);