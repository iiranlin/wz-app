(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2da73fa4"],{"7ec5":function(t,i,e){},"82d2":function(t,i,e){"use strict";e("7ec5")},e782:function(t,i,e){"use strict";e.d(i,"h",(function(){return n})),e.d(i,"e",(function(){return r})),e.d(i,"i",(function(){return o})),e.d(i,"c",(function(){return c})),e.d(i,"f",(function(){return u})),e.d(i,"g",(function(){return l})),e.d(i,"a",(function(){return d})),e.d(i,"b",(function(){return h})),e.d(i,"d",(function(){return f}));e("99af");var a=e("b775"),s=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/api",BASE_URL:"/"}).VUE_APP_AUTH_SERVER;"".concat("/api","/").concat(s,"/minio/upload"),"".concat(s,"/minio/download");function n(t){return Object(a["a"])({url:"/vehicleRentMain/listPage",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/vehicleRentMain/add",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/vehicleRentMain/maintain/save",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/vehicleRentMain/maintain/confirm",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/vehicleRentMain/detail",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/vehicleRentMain/listActiviti",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/vehicleRentMain/complete",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/vehicleRentMain/reject",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/minio/download?fileName=".concat(t),method:"get",responseType:"blob"})}},f6b3:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t._self._c;return i("div",{ref:"container",staticClass:"main-container"},[i("van-tabs",{attrs:{sticky:!0,type:"card",color:"#0571ff","title-active-color":"#ffffff","title-inactive-color":"#2e2e2e"},model:{value:t.menuActiveIndex,callback:function(i){t.menuActiveIndex=i},expression:"menuActiveIndex"}},[i("van-tab",{attrs:{title:"待审批"}},[i("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.waitRefresh},model:{value:t.waitRefreshLoading,callback:function(i){t.waitRefreshLoading=i},expression:"waitRefreshLoading"}},[i("van-list",{attrs:{finished:t.waitFinished,"finished-text":"没有更多了..."},on:{load:t.getWaitOrderList},model:{value:t.waitLoading,callback:function(i){t.waitLoading=i},expression:"waitLoading"}},t._l(t.waitOrderList,(function(e,a){return i("div",{key:a,staticClass:"order-info-item box-container",on:{click:function(i){return t.handleWaitItemClick(e)}}},[i("ul",{staticClass:"list-ul"},[i("li",[i("span",[t._v("申请时间：")]),i("span",[t._v(t._s(t.parseTime(e.createTime,"{y}-{m}-{d} {h}:{i}")))])]),i("li",[i("span",[t._v("申请单号：")]),i("span",[t._v(t._s(e.rentCode))])]),i("li",[i("span",[t._v("申请单位：")]),i("span",[t._v(t._s(e.usageUnitName))])]),i("li",[i("span",[t._v("申请人：")]),i("span",[t._v(t._s(e.creator))])]),i("li",[i("span",[t._v("租赁类型：")]),i("span",[t._v(t._s(t.checkVehicleProperties(e.vehicleProperties)))])]),i("li",[i("span",[t._v("租赁车辆数：")]),i("div",[i("span",{staticClass:"blue-weight"},[t._v(t._s(e.detailCount))]),i("span",[t._v(" 辆")])])]),i("li",[i("span",[t._v("租赁总价格：")]),i("div",[i("span",{staticClass:"blue-weight"},[t._v(t._s(e.planRentPrice))]),i("span",[t._v(" 元")])])]),i("li",[i("span",[t._v("租车周期：")]),i("span",[t._v(t._s(t.parseTime(e.planBeginDate,"{y}-{m}-{d}"))+" 至 "+t._s(t.parseTime(e.planEndDate,"{y}-{m}-{d}")))])]),i("div",{staticClass:"li-status"},[i("i",{staticClass:"default-icon-i",class:t.checkStatusImage(e)}),i("span",{staticClass:"status-text"},[t._v(t._s(t.checkOrderStatus(e)))])])])])})),0)],1)],1),i("van-tab",{attrs:{title:"已审批"}},[i("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.historyRefresh},model:{value:t.historyRefreshLoading,callback:function(i){t.historyRefreshLoading=i},expression:"historyRefreshLoading"}},[i("van-list",{attrs:{finished:t.historyFinished,"finished-text":"没有更多了..."},on:{load:t.getHistoryOrderList},model:{value:t.historyLoading,callback:function(i){t.historyLoading=i},expression:"historyLoading"}},t._l(t.historyOrderList,(function(e,a){return i("div",{key:a,staticClass:"order-info-item box-container",on:{click:function(i){return t.handleHistoryItemClick(e)}}},[i("ul",{staticClass:"list-ul"},[i("li",[i("span",[t._v("申请时间：")]),i("span",[t._v(t._s(t.parseTime(e.createTime,"{y}-{m}-{d} {h}:{i}")))])]),i("li",[i("span",[t._v("申请单号：")]),i("span",[t._v(t._s(e.rentCode))])]),i("li",[i("span",[t._v("申请单位：")]),i("span",[t._v(t._s(e.usageUnitName))])]),i("li",[i("span",[t._v("申请人：")]),i("span",[t._v(t._s(e.creator))])]),i("li",[i("span",[t._v("租赁类型：")]),i("span",[t._v(t._s(t.checkVehicleProperties(e.vehicleProperties)))])]),i("li",[i("span",[t._v("租赁车辆数：")]),i("div",[i("span",{staticClass:"blue-weight"},[t._v(t._s(e.detailCount))]),i("span",[t._v(" 辆")])])]),i("li",[i("span",[t._v("租赁总价格：")]),i("div",[i("span",{staticClass:"blue-weight"},[t._v(t._s(e.planRentPrice))]),i("span",[t._v(" 元")])])]),i("li",[i("span",[t._v("租车周期：")]),i("span",[t._v(t._s(t.parseTime(e.planBeginDate,"{y}-{m}-{d}"))+" 至 "+t._s(t.parseTime(e.planEndDate,"{y}-{m}-{d}")))])]),i("div",{staticClass:"li-status"},[i("i",{staticClass:"default-icon-i",class:t.checkStatusImage(e)}),i("span",{staticClass:"status-text"},[t._v(t._s(t.checkOrderStatus(e)))])])])])})),0)],1)],1)],1)],1)},s=[],n=e("2909"),r=(e("99af"),e("7db0"),e("14d9"),e("f4b3"),e("e9c4"),e("d3b7"),e("0643"),e("fffc"),e("e782")),o=e("b705"),c=e("fd99"),u={name:"CarRentalExamineList",mixins:[c["a"]],beforeRouteEnter:function(t,i,e){e((function(i){var e=setTimeout((function(){i.$refs.container.scrollTop=t.meta.scrollTop,clearTimeout(e)}),0)}))},beforeRouteLeave:function(t,i,e){if("CarRentalDetail"===t.name||"CarMaintenanceDetail"==t.name){var a=this.$refs.container,s=a.scrollTop;i.meta.scrollTop=s}e()},data:function(){return{menuActiveIndex:0,waitOrderList:[],waitRefreshLoading:!1,waitLoading:!1,waitFinished:!1,waitListQuery:{pageNum:1,pageSize:10},historyOrderList:[],historyRefreshLoading:!1,historyLoading:!1,historyFinished:!1,historyListQuery:{pageNum:1,pageSize:10},vehiclePropertiesOptions:[]}},created:function(){this.getVehiclePropertiesOptions()},activated:function(){this.$route.params.refresh&&(this.waitRefresh(),this.historyRefresh()),this.$store.commit("removeThisPage","CarRentalDetail")},methods:{getVehiclePropertiesOptions:function(){var t=this;this.loading=!0,Object(o["a"])("10017").then((function(i){var e=i.data;t.vehiclePropertiesOptions=e})).catch((function(t){})).finally((function(){t.loading=!1}))},getWaitOrderList:function(){var t=this,i=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0}),e={auditFlag:"0"};Object(r["g"])(Object.assign({},this.waitListQuery,e)).then((function(i){var e=i.data;t.waitRefreshLoading&&(t.waitOrderList=[],t.waitRefreshLoading=!1),t.waitLoading=!1,t.waitOrderList=[].concat(Object(n["a"])(t.waitOrderList),Object(n["a"])(e.list)),e.hasNextPage?t.waitListQuery.pageNum=t.waitListQuery.pageNum+1:t.waitFinished=!0})).catch((function(i){t.waitLoading=!1,t.waitFinished=!0})).finally((function(){i.clear()}))},getHistoryOrderList:function(){var t=this,i=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0}),e={auditFlag:"1"};Object(r["g"])(Object.assign({},this.historyListQuery,e)).then((function(i){var e=i.data;t.historyRefreshLoading&&(t.historyOrderList=[],t.historyRefreshLoading=!1),t.historyLoading=!1,t.historyOrderList=[].concat(Object(n["a"])(t.historyOrderList),Object(n["a"])(e.list)),e.hasNextPage?t.historyListQuery.pageNum=t.historyListQuery.pageNum+1:t.historyFinished=!0})).catch((function(i){t.historyLoading=!1,t.historyFinished=!0})).finally((function(){i.clear()}))},checkVehicleProperties:function(t){var i=this.vehiclePropertiesOptions.find((function(i){return i.code==t}));return i?i.name:""},checkOrderStatus:function(t){return"0"==t.status?"待提交":"1"==t.status?"待审核":"2"==t.status?"审核中":"3"==t.status&&"0"==t.maintainStatus?"已审核":"3"==t.status&&"1"==t.maintainStatus?"已维护":"3"==t.status&&"2"==t.maintainStatus?"已确认":"4"==t.status?"已驳回":void 0},checkStatusImage:function(t){return"0"==t.status?"order-ybh":"1"==t.status?"order-dsh":"2"==t.status?"order-shz":"3"==t.status&&"0"==t.maintainStatus||"3"==t.status&&"1"==t.maintainStatus||"3"==t.status&&"2"==t.maintainStatus?"order-yhc":"4"==t.status?"order-ybh":void 0},handleWaitItemClick:function(t){"0"==t.status||"1"==t.status||"2"==t.status||"4"==t.status||"3"==t.status&&"0"==t.maintainStatus?this.$router.push({name:"CarRentalDetail",params:{id:t.id,source:"CarRentalExamineList",item:JSON.stringify(t)}}):this.$router.push({name:"CarMaintenanceDetail",params:{id:t.id,source:"CarRentalExamineList"}})},handleHistoryItemClick:function(t){"0"==t.status||"1"==t.status||"2"==t.status||"4"==t.status||"3"==t.status&&"0"==t.maintainStatus?this.$router.push({name:"CarRentalDetail",params:{id:t.id,source:"CarRentalExamineList",item:JSON.stringify(t)}}):this.$router.push({name:"CarMaintenanceDetail",params:{id:t.id,source:"CarRentalExamineList"}})},waitRefresh:function(){this.waitRefreshLoading=!0,this.waitLoading=!0,this.waitFinished=!1,this.waitListQuery.pageNum=1,this.getWaitOrderList()},historyRefresh:function(){this.historyRefreshLoading=!0,this.historyLoading=!0,this.historyFinished=!1,this.historyListQuery.pageNum=1,this.getHistoryOrderList()}}},l=u,d=(e("82d2"),e("2877")),h=Object(d["a"])(l,a,s,!1,null,"21c05128",null);i["default"]=h.exports},fd99:function(t,i,e){"use strict";i["a"]={created:function(){this.$options.name||console.warn("缓存页面失败！没有设置组件名！"),this.$store.commit("keepThisPage",this.$options.name)},beforeDestroy:function(){}}}}]);