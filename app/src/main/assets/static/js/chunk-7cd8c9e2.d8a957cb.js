(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cd8c9e2"],{"5c15":function(e,t,r){"use strict";r("e328")},bcfc:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ChoiceVehicies"},[e._m(0),t("div",{ref:"notClass",staticClass:"list_overflow"},[t("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:e.requestRefresh},model:{value:e.requestRefreshLoading,callback:function(t){e.requestRefreshLoading=t},expression:"requestRefreshLoading"}},[t("van-list",{attrs:{offset:"30",finished:e.requestFinished,"finished-text":"没有更多了..."},on:{load:e.getAvailableCar},model:{value:e.requestLoading,callback:function(t){e.requestLoading=t},expression:"requestLoading"}},[t("van-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},e._l(e.list,(function(r,i){return t("div",{key:i,staticClass:"van-radio-groups",on:{click:function(t){return e.radioClick(r)}}},[t("van-radio",{attrs:{name:r.carNumber}}),t("p",{staticClass:"pImg-left"},[t("img",{attrs:{src:e.carPic+"?carModel="+r.brand+" "+r.carType,alt:""}}),t("span",[e._v(e._s(r.carNumber))])]),t("p",{staticClass:"pImg-right"},[t("span",[e._v(e._s(r.brand))])])],1)})),0)],1)],1)],1),t("div",{staticClass:"button-box"},["Vehicie"!=e.typeVehicie?t("van-button",{attrs:{block:"",type:"default"},on:{click:e.returnDetails}},[e._v("返回详情")]):e._e(),"Vehicie"===e.typeVehicie?t("van-button",{attrs:{block:"",type:"default"},on:{click:e.returnDetails}},[e._v("上一步")]):e._e(),t("van-button",{attrs:{block:"",type:"info"},on:{click:e.determine}},[e._v("确定车辆")])],1)])},a=[function(){var e=this,t=e._self._c;return t("p",{staticClass:"titleVeh"},[t("span",[e._v("分派车辆时注意所在地限行法规")])])}],n=(r("99af"),r("14d9"),r("f527")),s={beforeRouteEnter:function(e,t,r){"SubSuccess"===t.name?e.meta.keepAlive=!1:e.meta.keepAlive=!0,r((function(t){var r=setTimeout((function(){t.$refs.notClass.scrollTop=e.meta.scrollTop,clearTimeout(r)}),0)}))},beforeRouteLeave:function(e,t,r){if("ChoiceDriver"===e.name){var i=this.$refs.notClass,a=i.scrollTop;t.meta.scrollTop=a}r()},data:function(){return{carPic:n["a"],requestLoading:!1,requestFinished:!1,requestRefreshLoading:!1,radio:"",radioData:"",list:[],requestQuery:{pageSize:10,pageNum:0},typeVehicie:""}},methods:{requestRefresh:function(){this.requestRefreshLoading=!0,this.requestFinished=!1,this.requestLoading=!0,this.requestQuery.pageNum=0,this.getAvailableCar()},radioClick:function(e){this.radioData=e,this.radio=e.carNumber},getAvailableCar:function(){var e=this,t=this.requestQuery.pageNum;this.requestLoading=!0,this.requestQuery.pageNum=t+1,Object(n["g"])(this.requestQuery).then((function(t){var r=t.data;e.requestRefreshLoading&&1===e.requestQuery.pageNum&&(e.list=[]),e.requestRefreshLoading=!1,0===r.length&&(e.requestFinished=!0),e.requestLoading=!1;var i=e.list;e.list=i.concat(r)})).catch((function(){console.log("err")}))},returnDetails:function(){this.$router.go(-1)},determine:function(){var e=this.radio;if(e){this.$store.dispatch("details/setChoiceVehicie",this.radioData),this.$store.dispatch("details/setOverflowHeight",this.overflowHeight);var t="0";t="Vehicie"===this.typeVehicie?"Driver":"addVehicie"===this.typeVehicie?"addDriver":"0",this.$router.push({name:"ChoiceDriver",params:{typeDriver:t}})}else this.$toast("请选择车型！")}},created:function(){var e=this.$route.params.typeVehicie;this.typeVehicie=e,this.getAvailableCar()}},u=s,c=(r("5c15"),r("2877")),o=Object(c["a"])(u,i,a,!1,null,"6f732b95",null);t["default"]=o.exports},e328:function(e,t,r){},f527:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"n",(function(){return c})),r.d(t,"g",(function(){return o})),r.d(t,"j",(function(){return l})),r.d(t,"p",(function(){return d})),r.d(t,"f",(function(){return h})),r.d(t,"r",(function(){return f})),r.d(t,"l",(function(){return p})),r.d(t,"h",(function(){return m})),r.d(t,"e",(function(){return v})),r.d(t,"o",(function(){return g})),r.d(t,"m",(function(){return b})),r.d(t,"b",(function(){return q})),r.d(t,"q",(function(){return O})),r.d(t,"i",(function(){return C})),r.d(t,"k",(function(){return y}));var i=r("b775"),a="",n=a+"/dispatch/carPic";function s(e){return Object(i["a"])({url:"/dispatch/dispatchList",method:"GET",params:e})}function u(e){return Object(i["a"])({url:"/dispatch/dispatchedList",method:"GET",params:e})}function c(e){return Object(i["a"])({url:"/dispatch/historyList",method:"GET",params:e})}function o(e){return Object(i["a"])({url:"/dispatch/getAvailableCar",method:"GET",params:e})}function l(e){return Object(i["a"])({url:"/vehicleInfo/getAssignCount",method:"GET",params:e})}function d(e){return Object(i["a"])({url:"/dispatch/saveOrderDispatch",method:"POST",data:e})}function h(e){return Object(i["a"])({url:"/dispatch/reassignment",method:"POST",data:e})}function f(e,t){return Object(i["a"])({url:"/vehicleInfo/".concat(t?"getResAvailableCar":"getAvailableCar"),method:"get",params:e})}function p(e){return Object(i["a"])({url:"/gcjcDriverClass/getRGAvailableDriver",method:"get",params:e})}function m(e){return Object(i["a"])({url:"/gcjcDriverClass/getAvailableDriver",method:"get",params:e})}function v(e){return Object(i["a"])({url:"/gcywVehicleRequest/saveOrderDispatch",method:"POST",data:e})}function g(e){return Object(i["a"])({url:"/gcywVehicleRequest/reassignment",method:"POST",data:e})}function b(e){return Object(i["a"])({url:"/gcjcTurnUnit/listAll",method:"GET",params:e})}function q(e){return Object(i["a"])({url:"/gcywVehicleRequest/redispatch",method:"POST",data:e})}function O(e){return Object(i["a"])({url:"/gcywVehicleRequest/updateRessUnit",method:"post",data:e})}function C(e){return Object(i["a"])({url:"/system/unit/getAvailableUnit",method:"GET",params:e})}function y(e){return Object(i["a"])({url:"/dept/tree",method:"GET",params:e})}}}]);