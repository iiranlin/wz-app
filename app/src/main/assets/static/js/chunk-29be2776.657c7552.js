(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29be2776"],{"3b2f":function(t,e,i){},9888:function(t,e,i){"use strict";i("3b2f")},ae8e:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"main-container"},[e("van-tabs",{attrs:{sticky:!0,type:"card",color:"#0571ff","title-active-color":"#ffffff","title-inactive-color":"#2e2e2e"},model:{value:t.menuActiveIndex,callback:function(e){t.menuActiveIndex=e},expression:"menuActiveIndex"}},[e("van-tab",{attrs:{title:"待审批"}},[e("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.waitRefresh},model:{value:t.waitRefreshLoading,callback:function(e){t.waitRefreshLoading=e},expression:"waitRefreshLoading"}},[e("van-list",{attrs:{finished:t.waitFinished,"finished-text":"没有更多了..."},on:{load:t.getWaitOrderList},model:{value:t.waitLoading,callback:function(e){t.waitLoading=e},expression:"waitLoading"}},t._l(t.waitOrderList,(function(i,s){return e("div",{key:s,staticClass:"order-info-item box-container",on:{click:function(e){return t.handleWaitItemClick(i)}}},[e("ul",{staticClass:"list-ul"},[1===i.longDistanceTag?e("li",{staticClass:"li-item-long"},[e("i",{staticClass:"order-long"}),e("span",[t._v("长途单")])]):t._e(),e("li",[e("span",[t._v("出发时间：")]),e("span",[t._v(t._s(i.usageDate)+t._s(" ")+t._s(i.usageTime))])]),e("li",[e("span",[t._v("出"+t._s(" ")+t._s(" ")+"发"+t._s(" ")+t._s(" ")+"地：")]),e("span",[t._v(t._s(i.fromAddr.split(" ")[1]))])]),e("li",[e("span",[t._v("目"+t._s(" ")+t._s(" ")+"的"+t._s(" ")+t._s(" ")+"地：")]),e("span",[t._v(t._s(i.toAddr.split(" ")[1]))])]),e("li",[e("span",[t._v("优先保障：")]),e("span",{class:["否"===t.checkGuarantee(i.guarantee)?"":"hight-red"]},[t._v(t._s(t.checkGuarantee(i.guarantee)))])]),e("li",[e("span",[t._v("乘"+t._s(" ")+t._s(" ")+"车"+t._s(" ")+t._s(" ")+"人：")]),e("span",[t._v(t._s(i.userName))])]),e("li",[e("span",[t._v("用车事由：")]),e("span",[t._v(t._s(i.reason))])]),e("div",{staticClass:"li-status"},[e("i",{staticClass:"default-icon-i",class:t.checkStatusImage(i.status)}),e("span",{staticClass:"status-text"},[t._v(t._s(t.checkOrderStatus(i.status)))])])])])})),0)],1)],1),e("van-tab",{attrs:{title:"已审批"}},[e("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.historyRefresh},model:{value:t.historyRefreshLoading,callback:function(e){t.historyRefreshLoading=e},expression:"historyRefreshLoading"}},[e("van-list",{attrs:{finished:t.historyFinished,"finished-text":"没有更多了..."},on:{load:t.getHistoryOrderList},model:{value:t.historyLoading,callback:function(e){t.historyLoading=e},expression:"historyLoading"}},t._l(t.historyOrderList,(function(i,s){return e("div",{key:s,staticClass:"order-info-item box-container",on:{click:function(e){return t.handleHistoryItemClick(i)}}},[e("ul",{staticClass:"list-ul"},[1===i.longDistanceTag?e("li",{staticClass:"li-item-long"},[e("i",{staticClass:"order-long"}),e("span",[t._v("长途单")])]):t._e(),e("li",[e("span",[t._v("出发时间：")]),e("span",[t._v(t._s(i.usageDate)+t._s(" ")+t._s(i.usageTime))])]),e("li",[e("span",[t._v("出"+t._s(" ")+t._s(" ")+"发"+t._s(" ")+t._s(" ")+"地：")]),e("span",[t._v(t._s(i.fromAddr.split(" ")[1]))])]),e("li",[e("span",[t._v("目"+t._s(" ")+t._s(" ")+"的"+t._s(" ")+t._s(" ")+"地：")]),e("span",[t._v(t._s(i.toAddr.split(" ")[1]))])]),e("li",[e("span",[t._v("优先保障：")]),e("span",{class:["否"===t.checkGuarantee(i.guarantee)?"":"hight-red"]},[t._v(t._s(t.checkGuarantee(i.guarantee)))])]),e("li",[e("span",[t._v("乘"+t._s(" ")+t._s(" ")+"车"+t._s(" ")+t._s(" ")+"人：")]),e("span",[t._v(t._s(i.userName))])]),e("li",[e("span",[t._v("用车事由：")]),e("span",[t._v(t._s(i.reason))])]),e("div",{staticClass:"li-status"},[e("i",{staticClass:"default-icon-i",class:t.checkStatusImage(i.status)}),e("span",{staticClass:"status-text"},[t._v(t._s(t.checkOrderStatus(i.status)))])])])])})),0)],1)],1)],1)],1)},a=[],n=i("2909"),r=(i("99af"),i("7db0"),i("14d9"),i("d3b7"),i("0643"),i("fffc"),i("f8b7")),o=i("b705"),c=i("2f62"),u=i("fd99"),d={name:"ApprovalPending",mixins:[u["a"]],computed:Object(c["b"])("CarApplication",["isFefresh"]),beforeRouteEnter:function(t,e,i){i((function(e){var i=setTimeout((function(){e.$refs.container.scrollTop=t.meta.scrollTop,clearTimeout(i)}),0)}))},beforeRouteLeave:function(t,e,i){if("ApprovalDetail"===t.name){var s=this.$refs.container,a=s.scrollTop;e.meta.scrollTop=a}i()},data:function(){return{menuActiveIndex:0,waitOrderList:[],waitRefreshLoading:!1,waitLoading:!1,waitFinished:!1,waitListQuery:{pageNum:1,pageSize:10},historyOrderList:[],historyRefreshLoading:!1,historyLoading:!1,historyFinished:!1,historyListQuery:{pageNum:1,pageSize:10},orderStatusOptions:[],guaranteeOptions:[]}},created:function(){this.getOrderStatusOptions(),this.getGuaranteeOptions()},activated:function(){this.isFefresh&&(this.waitRefresh(),this.historyRefresh(),this.$store.dispatch("CarApplication/triggerFefresh",!1)),this.$store.commit("removeThisPage","ApprovalDetail")},methods:{getOrderStatusOptions:function(){var t=this;Object(o["a"])("1522830760585670657").then((function(e){var i=e.data;t.orderStatusOptions=i})).catch((function(t){}))},getGuaranteeOptions:function(){var t=this;Object(o["a"])("1679651627836055552").then((function(e){var i=e.data;t.guaranteeOptions=i})).catch((function(t){}))},getWaitOrderList:function(){var t=this,e=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0}),i={reviewCompleted:"0"};Object(r["g"])(Object.assign({},i,this.waitListQuery)).then((function(e){var i=e.data;t.waitRefreshLoading&&(t.waitOrderList=[],t.waitRefreshLoading=!1),t.waitLoading=!1,t.waitOrderList=[].concat(Object(n["a"])(t.waitOrderList),Object(n["a"])(i.list)),i.hasNextPage?t.waitListQuery.pageNum=t.waitListQuery.pageNum+1:t.waitFinished=!0})).catch((function(e){t.waitLoading=!1,t.waitFinished=!0})).finally((function(){e.clear()}))},getHistoryOrderList:function(){var t=this,e=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0}),i={reviewCompleted:"1"};Object(r["g"])(Object.assign({},i,this.historyListQuery)).then((function(e){var i=e.data;t.historyRefreshLoading&&(t.historyOrderList=[],t.historyRefreshLoading=!1),t.historyLoading=!1,t.historyOrderList=[].concat(Object(n["a"])(t.historyOrderList),Object(n["a"])(i.list)),i.hasNextPage?t.historyListQuery.pageNum=t.historyListQuery.pageNum+1:t.historyFinished=!0})).catch((function(e){t.historyLoading=!1,t.historyFinished=!0})).finally((function(){e.clear()}))},checkOrderStatus:function(t){var e=this.orderStatusOptions.find((function(e){return e.code==t}));return e?e.name:""},checkGuarantee:function(t){var e=this.guaranteeOptions.find((function(e){return e.code==t}));return e?e.name:""},checkStatusImage:function(t){return 1===t?"order-dsh":2===t?"order-shz":3===t?"order-ybh":4===t?"order-dpd":5===t?"order-ypd":6===t?"order-yqx":7===t||8===t?"order-yjd":9===t?"order-ycc":10===t?"order-yhc":11===t?"order-yqr":void 0},handleWaitItemClick:function(t){this.$router.push({name:"ApprovalDetail",params:{id:t.id}})},handleHistoryItemClick:function(t){this.$router.push({name:"ApprovalDetail",params:{id:t.id}})},waitRefresh:function(){this.waitRefreshLoading=!0,this.waitLoading=!0,this.waitFinished=!1,this.waitListQuery.pageNum=1,this.getWaitOrderList()},historyRefresh:function(){this.historyRefreshLoading=!0,this.historyLoading=!0,this.historyFinished=!1,this.historyListQuery.pageNum=1,this.getHistoryOrderList()}}},h=d,l=(i("9888"),i("2877")),f=Object(l["a"])(h,s,a,!1,null,"b9314d1a",null);e["default"]=f.exports},f8b7:function(t,e,i){"use strict";i.d(e,"l",(function(){return a})),i.d(e,"m",(function(){return n})),i.d(e,"i",(function(){return r})),i.d(e,"j",(function(){return o})),i.d(e,"n",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"d",(function(){return d})),i.d(e,"e",(function(){return h})),i.d(e,"k",(function(){return l})),i.d(e,"c",(function(){return f})),i.d(e,"a",(function(){return p})),i.d(e,"f",(function(){return g})),i.d(e,"h",(function(){return m})),i.d(e,"g",(function(){return v}));var s=i("b775");function a(t){return Object(s["a"])({url:"/order/getOrderDetail",method:"GET",params:t})}function n(t){return Object(s["a"])({url:"/gcywVehicleRequest/dispatchListInfoH5",method:"GET",params:t})}function r(t){return Object(s["a"])({url:"/gcywVehicleRequestLog/list",method:"GET",params:t})}function o(t){return Object(s["a"])({url:"/gcywVehicleRequest/cancelVehicleRequest",method:"POST",data:t})}function c(t){return Object(s["a"])({url:"/gcywVehicleRequest/activiti/reject",method:"POST",data:t})}function u(t){return Object(s["a"])({url:"/activiti/assigneeList",method:"post",data:t})}function d(t){return Object(s["a"])({url:"/gcywVehicleRequest/activiti/complete",method:"POST",data:t})}function h(t){return Object(s["a"])({url:"/gcywVehicleRequest/listPage",method:"GET",params:t})}function l(t){return Object(s["a"])({url:"/gcywVehicleRequest/confirmVehicleRequest",method:"POST",data:t})}function f(t){return Object(s["a"])({url:"/gcywVehicleRequest/addVehicleRequest",method:"post",data:t})}function p(t){return Object(s["a"])({url:"/activiti/assigneeListByType",method:"get",params:t})}function g(t){return Object(s["a"])({url:"/gcywVehicleRequest/dispatchList",method:"get",params:t})}function m(t){return Object(s["a"])({url:"/gcywVehicleRequestLog/list",method:"get",params:t})}function v(t){return Object(s["a"])({url:"/gcywVehicleRequest/listPageForH5",method:"get",params:t})}},fd99:function(t,e,i){"use strict";e["a"]={created:function(){this.$options.name||console.warn("缓存页面失败！没有设置组件名！"),this.$store.commit("keepThisPage",this.$options.name)},beforeDestroy:function(){}}}}]);