(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a6f53f4"],{"3cb5":function(t,e,i){},8758:function(t,e,i){"use strict";i("3cb5")},a245:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"main-container"},[e("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.waitRefresh},model:{value:t.waitRefreshLoading,callback:function(e){t.waitRefreshLoading=e},expression:"waitRefreshLoading"}},[e("van-list",{attrs:{finished:t.waitFinished,"finished-text":"没有更多了..."},on:{load:t.getWaitOrderList},model:{value:t.waitLoading,callback:function(e){t.waitLoading=e},expression:"waitLoading"}},t._l(t.waitOrderList,(function(i,a){return e("div",{key:a,staticClass:"order-info-item box-container",on:{click:function(e){return t.handleWaitItemClick(i)}}},[e("ul",{staticClass:"list-ul"},[e("li",[e("span",[t._v("申请时间：")]),e("span",[t._v(t._s(t.parseTime(i.createTime,"{y}-{m}-{d} {h}:{i}")))])]),e("li",[e("span",[t._v("申请单号：")]),e("span",[t._v(t._s(i.rentCode))])]),e("li",[e("span",[t._v("申请单位：")]),e("span",[t._v(t._s(i.usageUnitName))])]),e("li",[e("span",[t._v("申请人：")]),e("span",[t._v(t._s(i.creator))])]),e("li",[e("span",[t._v("租赁类型：")]),e("span",[t._v(t._s(t.checkVehicleProperties(i.vehicleProperties)))])]),e("li",[e("span",[t._v("租赁车辆数：")]),e("div",[e("span",{staticClass:"blue-weight"},[t._v(t._s(i.detailCount))]),e("span",[t._v(" 辆")])])]),e("li",[e("span",[t._v("租赁总价格：")]),e("div",[e("span",{staticClass:"blue-weight"},[t._v(t._s(i.planRentPrice))]),e("span",[t._v(" 元")])])]),e("li",[e("span",[t._v("租车周期：")]),e("span",[t._v(t._s(t.parseTime(i.planBeginDate,"{y}-{m}-{d}"))+" 至 "+t._s(t.parseTime(i.planEndDate,"{y}-{m}-{d}")))])]),e("div",{staticClass:"li-status"},[e("i",{staticClass:"default-icon-i",class:t.checkStatusImage(i)}),e("span",{staticClass:"status-text"},[t._v(t._s(t.checkOrderStatus(i)))])])])])})),0)],1),e("div",{staticClass:"add-btn",on:{click:function(e){return t.handleAddClick()}}})],1)},n=[],s=i("2909"),r=(i("99af"),i("7db0"),i("14d9"),i("d3b7"),i("0643"),i("fffc"),i("e782")),o=i("b705"),c=i("fd99"),u={name:"CarRentalList",mixins:[c["a"]],beforeRouteEnter:function(t,e,i){i((function(e){var i=setTimeout((function(){e.$refs.container.scrollTop=t.meta.scrollTop,clearTimeout(i)}),0)}))},beforeRouteLeave:function(t,e,i){if("CarRentalDetail"==t.name||"CarMaintenanceDetail"==t.name){var a=this.$refs.container,n=a.scrollTop;e.meta.scrollTop=n}i()},data:function(){return{menuActiveIndex:0,waitOrderList:[],waitRefreshLoading:!1,waitLoading:!1,waitFinished:!1,waitListQuery:{pageNum:1,pageSize:10},vehiclePropertiesOptions:[]}},created:function(){this.getVehiclePropertiesOptions()},activated:function(){this.$route.params.refresh&&this.waitRefresh(),this.$store.commit("removeThisPage","CarRentalDetail")},methods:{getVehiclePropertiesOptions:function(){var t=this;this.loading=!0,Object(o["a"])("10017").then((function(e){var i=e.data;t.vehiclePropertiesOptions=i})).catch((function(t){})).finally((function(){t.loading=!1}))},getWaitOrderList:function(){var t=this,e=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0}),i={statusList:"1,2,3,4"};Object(r["h"])(Object.assign({},this.waitListQuery,i)).then((function(e){var i=e.data;t.waitRefreshLoading&&(t.waitOrderList=[],t.waitRefreshLoading=!1),t.waitLoading=!1,t.waitOrderList=[].concat(Object(s["a"])(t.waitOrderList),Object(s["a"])(i.list)),i.hasNextPage?t.waitListQuery.pageNum=t.waitListQuery.pageNum+1:t.waitFinished=!0})).catch((function(e){t.waitLoading=!1,t.waitFinished=!0})).finally((function(){e.clear()}))},checkVehicleProperties:function(t){var e=this.vehiclePropertiesOptions.find((function(e){return e.code==t}));return e?e.name:""},checkOrderStatus:function(t){return"0"==t.status?"待提交":"1"==t.status?"待审核":"2"==t.status?"审核中":"3"==t.status&&"0"==t.maintainStatus?"已审核":"3"==t.status&&"1"==t.maintainStatus?"已维护":"3"==t.status&&"2"==t.maintainStatus?"已确认":"4"==t.status?"已驳回":void 0},checkStatusImage:function(t){return"0"==t.status?"order-ybh":"1"==t.status?"order-dsh":"2"==t.status?"order-shz":"3"==t.status&&"0"==t.maintainStatus||"3"==t.status&&"1"==t.maintainStatus||"3"==t.status&&"2"==t.maintainStatus?"order-yhc":"4"==t.status?"order-ybh":void 0},handleWaitItemClick:function(t){"0"==t.status||"1"==t.status||"2"==t.status||"4"==t.status||"3"==t.status&&"0"==t.maintainStatus?this.$router.push({name:"CarRentalDetail",params:{id:t.id,source:"CarRentalList",item:{}}}):this.$router.push({name:"CarMaintenanceDetail",params:{id:t.id,source:"CarRentalList"}})},waitRefresh:function(){this.waitRefreshLoading=!0,this.waitLoading=!0,this.waitFinished=!1,this.waitListQuery.pageNum=1,this.getWaitOrderList()},handleAddClick:function(){this.$router.push({name:"CarRentalCreate",params:{}})}}},d=u,l=(i("8758"),i("2877")),h=Object(l["a"])(d,a,n,!1,null,"6b7f5776",null);e["default"]=h.exports},e782:function(t,e,i){"use strict";i.d(e,"h",(function(){return s})),i.d(e,"e",(function(){return r})),i.d(e,"i",(function(){return o})),i.d(e,"c",(function(){return c})),i.d(e,"f",(function(){return u})),i.d(e,"g",(function(){return d})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return h})),i.d(e,"d",(function(){return f}));i("99af");var a=i("b775"),n=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/api",BASE_URL:"/"}).VUE_APP_AUTH_SERVER;"".concat("/api","/").concat(n,"/minio/upload"),"".concat(n,"/minio/download");function s(t){return Object(a["a"])({url:"/vehicleRentMain/listPage",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/vehicleRentMain/add",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/vehicleRentMain/maintain/save",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/vehicleRentMain/maintain/confirm",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/vehicleRentMain/detail",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/vehicleRentMain/listActiviti",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/vehicleRentMain/complete",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/vehicleRentMain/reject",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/minio/download?fileName=".concat(t),method:"get",responseType:"blob"})}},fd99:function(t,e,i){"use strict";e["a"]={created:function(){this.$options.name||console.warn("缓存页面失败！没有设置组件名！"),this.$store.commit("keepThisPage",this.$options.name)},beforeDestroy:function(){}}}}]);