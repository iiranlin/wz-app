(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9eb2760e"],{"077e":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("div",{ref:"container",staticClass:"main-container"},[i("van-tabs",{attrs:{sticky:!0,type:"card",color:"#0571ff","title-active-color":"#ffffff","title-inactive-color":"#2e2e2e"},model:{value:t.menuActiveIndex,callback:function(i){t.menuActiveIndex=i},expression:"menuActiveIndex"}},[i("van-tab",{attrs:{title:"待审批"}},[i("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.waitRefresh},model:{value:t.waitRefreshLoading,callback:function(i){t.waitRefreshLoading=i},expression:"waitRefreshLoading"}},[i("van-list",{attrs:{finished:t.waitFinished,"finished-text":"没有更多了..."},on:{load:t.getWaitOrderList},model:{value:t.waitLoading,callback:function(i){t.waitLoading=i},expression:"waitLoading"}},t._l(t.waitOrderList,(function(e,s){return i("div",{key:s,staticClass:"order-info-item box-container",on:{click:function(i){return t.handleWaitItemClick(e)}}},[i("ul",{staticClass:"list-ul"},[i("li",[i("span",[t._v("申请日期：")]),i("span",[t._v(t._s(t.parseTime(e.applyDate,"{y}-{m}-{d}")))])]),i("li",[i("span",[t._v("申请单位：")]),i("span",[t._v(t._s(e.applyUnitName))])]),i("li",[i("span",[t._v("申请部门：")]),i("span",[t._v(t._s(e.applyDeptName))])]),i("li",[i("span",[t._v("申请单号：")]),i("span",[t._v(t._s(e.purchaseNo))])]),i("li",[i("span",[t._v("申请类型：")]),i("span",[t._v(t._s(t.checkApplyType(e.applyType)))])]),i("li",[i("span",[t._v("车辆类型：")]),i("span",[t._v(t._s(e.carTypeAll))])]),i("li",[i("span",[t._v("品牌型号：")]),i("span",[t._v(t._s(e.carBrand))])]),i("li",[i("span",[t._v("购车价格：")]),i("div",[i("span",{staticClass:"blue-weight"},[t._v(t._s(e.purchaseAmount))]),i("span",[t._v(" 元")])])]),i("div",{staticClass:"li-status"},[i("i",{staticClass:"default-icon-i",class:t.checkStatusImage(e.status)}),i("span",{staticClass:"status-text"},[t._v(t._s(t.checkOrderStatus(e.status)))])])])])})),0)],1)],1),i("van-tab",{attrs:{title:"已审批"}},[i("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.historyRefresh},model:{value:t.historyRefreshLoading,callback:function(i){t.historyRefreshLoading=i},expression:"historyRefreshLoading"}},[i("van-list",{attrs:{finished:t.historyFinished,"finished-text":"没有更多了..."},on:{load:t.getHistoryOrderList},model:{value:t.historyLoading,callback:function(i){t.historyLoading=i},expression:"historyLoading"}},t._l(t.historyOrderList,(function(e,s){return i("div",{key:s,staticClass:"order-info-item box-container",on:{click:function(i){return t.handleHistoryItemClick(e)}}},[i("ul",{staticClass:"list-ul"},[i("li",[i("span",[t._v("申请日期：")]),i("span",[t._v(t._s(t.parseTime(e.applyDate,"{y}-{m}-{d}")))])]),i("li",[i("span",[t._v("申请单位：")]),i("span",[t._v(t._s(e.applyUnitName))])]),i("li",[i("span",[t._v("申请部门：")]),i("span",[t._v(t._s(e.applyDeptName))])]),i("li",[i("span",[t._v("申请单号：")]),i("span",[t._v(t._s(e.purchaseNo))])]),i("li",[i("span",[t._v("申请类型：")]),i("span",[t._v(t._s(t.checkApplyType(e.applyType)))])]),i("li",[i("span",[t._v("车辆类型：")]),i("span",[t._v(t._s(e.carTypeAll))])]),i("li",[i("span",[t._v("品牌型号：")]),i("span",[t._v(t._s(e.carBrand))])]),i("li",[i("span",[t._v("购车价格：")]),i("div",[i("span",{staticClass:"blue-weight"},[t._v(t._s(e.purchaseAmount))]),i("span",[t._v(" 元")])])]),i("div",{staticClass:"li-status"},[i("i",{staticClass:"default-icon-i",class:t.checkStatusImage(e.status)}),i("span",{staticClass:"status-text"},[t._v(t._s(t.checkOrderStatus(e.status)))])])])])})),0)],1)],1)],1)],1)},a=[],n=e("2909"),r=(e("99af"),e("7db0"),e("14d9"),e("f4b3"),e("e9c4"),e("d3b7"),e("0643"),e("fffc"),e("1134")),o=e("fd99"),c=e("b705"),l={name:"PurchaseApplicationList",mixins:[o["a"]],beforeRouteEnter:function(t,i,e){e((function(i){var e=setTimeout((function(){i.$refs.container.scrollTop=t.meta.scrollTop,clearTimeout(e)}),0)}))},beforeRouteLeave:function(t,i,e){if("PurchaseApplicationDetail"===t.name){var s=this.$refs.container,a=s.scrollTop;i.meta.scrollTop=a}e()},data:function(){return{menuActiveIndex:0,applyTypeOptions:[],waitOrderList:[],waitRefreshLoading:!1,waitLoading:!1,waitFinished:!1,waitListQuery:{pageNum:1,pageSize:10},historyOrderList:[],historyRefreshLoading:!1,historyLoading:!1,historyFinished:!1,historyListQuery:{pageNum:1,pageSize:10}}},created:function(){this.getApplyTypeOptions()},activated:function(){this.$route.params.refresh&&(this.waitRefresh(),this.historyRefresh()),this.$store.commit("removeThisPage","ChangeExamineDetail")},methods:{getApplyTypeOptions:function(){var t=this,i=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0});Object(c["a"])("1929785249212104704").then((function(i){var e=i.data;t.applyTypeOptions=e})).catch((function(t){})).finally((function(){i.clear()}))},getWaitOrderList:function(){var t=this,i=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0}),e={auditFlag:"0"};Object(r["c"])(Object.assign({},this.waitListQuery,e)).then((function(i){var e=i.data;t.waitRefreshLoading&&(t.waitOrderList=[],t.waitRefreshLoading=!1),t.waitLoading=!1,t.waitOrderList=[].concat(Object(n["a"])(t.waitOrderList),Object(n["a"])(e.list)),e.hasNextPage?t.waitListQuery.pageNum=t.waitListQuery.pageNum+1:t.waitFinished=!0})).catch((function(i){t.waitLoading=!1,t.waitFinished=!0})).finally((function(){i.clear()}))},getHistoryOrderList:function(){var t=this,i=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0}),e={auditFlag:"1"};Object(r["c"])(Object.assign({},this.historyListQuery,e)).then((function(i){var e=i.data;t.historyRefreshLoading&&(t.historyOrderList=[],t.historyRefreshLoading=!1),t.historyLoading=!1,t.historyOrderList=[].concat(Object(n["a"])(t.historyOrderList),Object(n["a"])(e.list)),e.hasNextPage?t.historyListQuery.pageNum=t.historyListQuery.pageNum+1:t.historyFinished=!0})).catch((function(i){t.historyLoading=!1,t.historyFinished=!0})).finally((function(){i.clear()}))},checkApplyType:function(t){var i=this.applyTypeOptions.find((function(i){return i.code==t}));return i?i.name:""},checkOrderStatus:function(t){return"1"==t?"待审核":"2"==t?"审核中":"3"==t?"已审核":"4"==t?"已驳回":void 0},checkStatusImage:function(t){return"1"==t?"order-dsh":"2"==t?"order-shz":"3"==t?"order-yhc":"4"==t?"order-ybh":void 0},handleWaitItemClick:function(t){this.$router.push({name:"PurchaseApplicationDetail",params:{obj:JSON.stringify(t),type:"0"}})},handleHistoryItemClick:function(t){this.$router.push({name:"PurchaseApplicationDetail",params:{obj:JSON.stringify(t),type:"1"}})},waitRefresh:function(){this.waitRefreshLoading=!0,this.waitLoading=!0,this.waitFinished=!1,this.waitListQuery.pageNum=1,this.getWaitOrderList()},historyRefresh:function(){this.historyRefreshLoading=!0,this.historyLoading=!0,this.historyFinished=!1,this.historyListQuery.pageNum=1,this.getHistoryOrderList()}}},u=l,h=(e("ffc5"),e("2877")),p=Object(h["a"])(u,s,a,!1,null,"9246a898",null);i["default"]=p.exports},1134:function(t,i,e){"use strict";e.d(i,"c",(function(){return a})),e.d(i,"b",(function(){return n})),e.d(i,"a",(function(){return r})),e.d(i,"d",(function(){return o}));var s=e("b775");function a(t){return Object(s["a"])({url:"/vehiclePurchase/listActiviti",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/vehiclePurchase/detail",method:"get",params:t})}function r(t){return Object(s["a"])({url:"/vehiclePurchase/complete",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/vehiclePurchase/reject",method:"post",data:t})}},"540e":function(t,i,e){},fd99:function(t,i,e){"use strict";i["a"]={created:function(){this.$options.name||console.warn("缓存页面失败！没有设置组件名！"),this.$store.commit("keepThisPage",this.$options.name)},beforeDestroy:function(){}}},ffc5:function(t,i,e){"use strict";e("540e")}}]);