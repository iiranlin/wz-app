(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0176ebf4"],{"1b4a":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t._self._c;return n("div",{staticClass:"detail-container"},[t._m(0),n("div",[n("van-list",{attrs:{offset:"30",finished:t.finished,"finished-text":"没有更多了..."},on:{load:t.getUnitList},model:{value:t.loading,callback:function(n){t.loading=n},expression:"loading"}},t._l(t.unitList,(function(e,i){return n("div",{key:i,staticClass:"unit-item-container",on:{click:function(n){return t.handleUnitClick(e)}}},[n("span",{staticClass:"unit-name"},[t._v(t._s(e.turnUnitName))])])})),0)],1),n("div",{staticClass:"default-button-container-one"},[n("van-button",{attrs:{icon:"arrow-left",block:"",type:"default",round:""},on:{click:function(n){return t.handleCancel()}}},[t._v("上一步")])],1)])},r=[function(){var t=this,n=t._self._c;return n("div",{staticClass:"tip-container"},[n("span",[t._v("请选择转派单位")])])}],a=(e("14d9"),e("b64b"),e("d3b7"),e("f527")),c={name:"",data:function(){return{loading:!1,finished:!1,orderDetail:{},unitList:[]}},created:function(){this.orderDetail=JSON.parse(this.$route.params.obj)},methods:{getUnitList:function(){var t=this,n=this.$toast.loading({duration:0,message:"加载中..",forbidClick:!0}),e={useUnitCode:this.orderDetail.unitCode};Object(a["m"])(e).then((function(n){var e=n.data;t.loading=!0,t.finished=!0,t.unitList=e})).catch((function(){})).finally((function(){n.clear()}))},handleUnitClick:function(t){var n=this;this.$dialog.confirm({title:"提示",message:"是否确认转派?"}).then((function(){n.requestChange(t)})).catch((function(){}))},requestChange:function(t){var n=this,e=this.$toast.loading({duration:0,message:"正在取消..",forbidClick:!0}),i={id:this.orderDetail.id,reassignUnitCode:t.turnUnitCode};Object(a["b"])(i).then((function(t){var e=t.message;n.$notify({type:"success",message:e}),n.$store.dispatch("DispathOrder/triggerFefresh",!0),n.$router.push({name:"DispatchOrderList",params:{}})})).catch((function(t){n.$toast.fail("转派失败!")})).finally((function(){e.clear()}))},handleCancel:function(){this.$router.back()}}},u=c,s=(e("e1c6"),e("2877")),o=Object(s["a"])(u,i,r,!1,null,"f01cce98",null);n["default"]=o.exports},b9d2:function(t,n,e){},e1c6:function(t,n,e){"use strict";e("b9d2")},f527:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"c",(function(){return c})),e.d(n,"d",(function(){return u})),e.d(n,"n",(function(){return s})),e.d(n,"g",(function(){return o})),e.d(n,"j",(function(){return d})),e.d(n,"p",(function(){return l})),e.d(n,"f",(function(){return f})),e.d(n,"r",(function(){return h})),e.d(n,"l",(function(){return m})),e.d(n,"h",(function(){return b})),e.d(n,"e",(function(){return p})),e.d(n,"o",(function(){return g})),e.d(n,"m",(function(){return v})),e.d(n,"b",(function(){return O})),e.d(n,"q",(function(){return j})),e.d(n,"i",(function(){return C})),e.d(n,"k",(function(){return k}));var i=e("b775"),r="",a=r+"/dispatch/carPic";function c(t){return Object(i["a"])({url:"/dispatch/dispatchList",method:"GET",params:t})}function u(t){return Object(i["a"])({url:"/dispatch/dispatchedList",method:"GET",params:t})}function s(t){return Object(i["a"])({url:"/dispatch/historyList",method:"GET",params:t})}function o(t){return Object(i["a"])({url:"/dispatch/getAvailableCar",method:"GET",params:t})}function d(t){return Object(i["a"])({url:"/vehicleInfo/getAssignCount",method:"GET",params:t})}function l(t){return Object(i["a"])({url:"/dispatch/saveOrderDispatch",method:"POST",data:t})}function f(t){return Object(i["a"])({url:"/dispatch/reassignment",method:"POST",data:t})}function h(t,n){return Object(i["a"])({url:"/vehicleInfo/".concat(n?"getResAvailableCar":"getAvailableCar"),method:"get",params:t})}function m(t){return Object(i["a"])({url:"/gcjcDriverClass/getRGAvailableDriver",method:"get",params:t})}function b(t){return Object(i["a"])({url:"/gcjcDriverClass/getAvailableDriver",method:"get",params:t})}function p(t){return Object(i["a"])({url:"/gcywVehicleRequest/saveOrderDispatch",method:"POST",data:t})}function g(t){return Object(i["a"])({url:"/gcywVehicleRequest/reassignment",method:"POST",data:t})}function v(t){return Object(i["a"])({url:"/gcjcTurnUnit/listAll",method:"GET",params:t})}function O(t){return Object(i["a"])({url:"/gcywVehicleRequest/redispatch",method:"POST",data:t})}function j(t){return Object(i["a"])({url:"/gcywVehicleRequest/updateRessUnit",method:"post",data:t})}function C(t){return Object(i["a"])({url:"/system/unit/getAvailableUnit",method:"GET",params:t})}function k(t){return Object(i["a"])({url:"/dept/tree",method:"GET",params:t})}}}]);