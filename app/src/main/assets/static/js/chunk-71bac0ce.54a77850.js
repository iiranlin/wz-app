(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71bac0ce"],{"34fd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{class:["tab-container",e.hasButton?"button-container":""]},[t("van-tabs",{attrs:{sticky:!0,color:"#0571ff"},model:{value:e.menuActiveIndex,callback:function(t){e.menuActiveIndex=t},expression:"menuActiveIndex"}},[t("van-tab",{attrs:{title:"维护信息"}},[t("div",{staticClass:"maintenacec-container"},[t("div",{staticClass:"car-rental-info box-container"},[t("div",{staticClass:"detail-title-info"},[t("img",{attrs:{src:"/static/icon-base.png"}}),t("span",{staticClass:"info-title"},[e._v("基本信息")])]),t("div",[t("ul",{staticClass:"detail-ul"},[t("li",[t("span",[e._v("租赁公司：")]),t("span",[e._v(e._s(e.orderDetail.rentUnit))])]),t("li",[t("span",[e._v("实际起租日期：")]),t("span",[e._v(e._s(e.parseTime(e.orderDetail.rentBeginDate,"{y}-{m}-{d}")))])]),t("li",[t("span",[e._v("实际到期日期：")]),t("span",[e._v(e._s(e.parseTime(e.orderDetail.rentEndDate,"{y}-{m}-{d}")))])]),t("li",[t("span",[e._v("合同号：")]),t("span",[e._v(e._s(e.orderDetail.rentAgreement))])]),t("li",[t("span",[e._v("付款方式：")]),t("span",[e._v(e._s(e.orderDetail.rentPay))])]),t("li",[t("span",[e._v("备注：")]),t("span",[e._v(e._s(e.orderDetail.remark))])])])])]),t("div",{staticClass:"car-rental-info box-container"},[t("div",{staticClass:"detail-title-info"},[t("img",{attrs:{src:"/static/icon-vehicle.png"}}),t("span",{staticClass:"info-title"},[e._v("车辆信息")])]),e._l(e.orderDetail.details,(function(a,i){return t("div",{key:i,staticClass:"car-rental-item"},[t("ul",{staticClass:"detail-ul"},[t("li",[t("span",[e._v("车牌号：")]),t("span",[e._v(e._s(a.carNumber))])]),t("li",[t("span",[e._v("品牌：")]),t("span",[e._v(e._s(a.carBrand))])]),t("li",[t("span",[e._v("型号：")]),t("span",[e._v(e._s(a.carSeries))])]),t("li",[t("span",[e._v("车架号：")]),t("span",[e._v(e._s(a.vinNumber))])]),t("li",[t("span",[e._v("发动机号：")]),t("span",[e._v(e._s(a.engineNumber))])]),t("li",[t("span",[e._v("座位数：")]),t("span",{staticClass:"blue-weight"},[e._v(e._s(a.maxMens))]),t("span",[e._v(" 座")])]),t("li",[t("span",[e._v("排气量：")]),t("span",{staticClass:"blue-weight"},[e._v(e._s(a.capacity))]),t("span",[e._v(" T/L")])]),t("li",[t("span",[e._v("排气标准：")]),t("span",[e._v(e._s(a.emission))])]),t("li",[t("span",[e._v("车辆用途：")]),t("span",[e._v(e._s(a.carUsing))])]),t("li",[t("span",[e._v("车辆所有人：")]),t("span",[e._v(e._s(a.carPeople))])]),t("li",[t("span",[e._v("购车价格：")]),t("span",{staticClass:"blue-weight"},[e._v(e._s(e.formatNumber(a.price)))]),t("span",[e._v(" 元")])]),t("li",[t("span",[e._v("初登日期：")]),t("span",[e._v(e._s(e.parseTime(a.registerDate,"{y}-{m}-{d}")))])]),t("li",[t("span",[e._v("核准载重：")]),t("span",{staticClass:"blue-weight"},[e._v(e._s(a.maxWeight))]),t("span",[e._v(" 吨")])]),t("li",[t("span",[e._v("租赁价格(每月)：")]),t("span",{staticClass:"blue-weight"},[e._v(e._s(a.rentPrice))]),t("span",[e._v(" 元")])]),t("li",[t("span",[e._v("起始公里数：")]),t("span",{staticClass:"blue-weight"},[e._v(e._s(a.startMiles))]),t("span",[e._v(" km")])])])])}))],2),e.appendixList&&e.appendixList.length>0?t("div",{staticClass:"car-rental-info box-container"},[t("div",{staticClass:"detail-title-info"},[t("img",{attrs:{src:"/static/icon-file.png"}}),t("span",{staticClass:"info-title"},[e._v("附件信息")])]),t("div",[t("ul",{staticClass:"detail-file-ul"},e._l(e.appendixList,(function(a,i){return t("li",{key:i},[t("div",{staticClass:"appendix-info"},[t("img",{attrs:{src:e.checkFileImage(a.oldFileName)}}),t("span",{on:{click:function(t){return e.seeAttachment(a)}}},[e._v(e._s(a.oldFileName))])]),t("div",{staticClass:"des-info"},[t("span",[e._v("附件说明：")]),t("span",[e._v(e._s(a.fileDesc))])])])})),0)])]):e._e()])]),t("van-tab",{attrs:{title:"申请信息"}},[t("car-rental-base-detail",{attrs:{orderDetail:e.orderDetail,hasButton:e.hasButton,planRentPriceEdit:!1}})],1)],1),e.hasButton?t("div",{staticClass:"default-button-container-one"},[t("van-button",{attrs:{block:"",type:"info",round:""},on:{click:function(t){return e.handleConfirm()}}},[e._v("确认")])],1):e._e(),t("file-preview",{key:e.timer,ref:"filePreview",attrs:{fileType:e.fileType}})],1)},s=[],n=a("ade3"),l=(a("4de4"),a("baa5"),a("14d9"),a("d3b7"),a("0643"),a("2382"),a("7b51")),r=a("e782"),c=a("ed08"),p=a("2847"),o={name:"CarMaintenance",components:{CarRentalBaseDetail:l["a"],FilePreview:p["a"]},data:function(){return{menuActiveIndex:0,formatNumber:c["a"],id:"",orderDetail:{},appendixList:[],source:"",hasButton:!1,fileType:"",timer:""}},created:function(){this.id=this.$route.params.id,this.source=this.$route.params.source,this.getCarRentalDetail()},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({getCarRentalDetail:function(){var e=this,t=this.$toast.loading({duration:0,message:"正在加载...",forbidClick:!0}),a={id:this.id};Object(r["f"])(a).then((function(t){var a=t.data;e.orderDetail=a,"3"==e.orderDetail.status&&"1"==e.orderDetail.maintainStatus&&"CarRentalList"==e.source&&(e.hasButton=!0),e.appendixList=e.orderDetail.files.filter((function(e){return"2"==e.type}))})).catch((function(e){})).finally((function(){t.clear()}))},checkFileImage:function(e){var t=e.substr(e.lastIndexOf(".")+1);return"xlsx"==t||"xls"==t?"/static/file-excel.png":"pdf"==t?"/static/file-pdf.png":"jpg"==t||"png"==t||"jpeg"==t||"bmp"==t?"/static/file-img.png":"docx"==t||"doc"==t?"/static/file-doc.png":"txt"==t?"/static/file-txt.png":"ppt"==t?"/static/file-ppt.png":"/static/file-txt.png"}},"checkFileImage",(function(e){var t=e.substr(e.lastIndexOf(".")+1);return"xlsx"==t||"xls"==t?"/static/file-excel.png":"pdf"==t?"/static/file-pdf.png":"jpg"==t||"png"==t||"jpeg"==t||"bmp"==t?"/static/file-img.png":"docx"==t||"doc"==t?"/static/file-doc.png":"txt"==t?"/static/file-txt.png":"ppt"==t?"/static/file-ppt.png":"/static/file-txt.png"})),"seeAttachment",(function(e){var t=this,a=e.fileName.substr(e.fileName.lastIndexOf(".")+1);this.timer=(new Date).getTime(),this.$nextTick((function(){if("xlsx"==a)t.fileType="excel",t.$refs.filePreview.showXlsx(e.fileName);else if("pdf"==a)t.fileType="pdf",t.$refs.filePreview.showPdf(e.fileName);else if("jpg"==a||"png"==a||"jpeg"==a||"bmp"==a){var i=t.orderDetail.files.filter((function(e){return"jpg"==e.fileName.substr(e.fileName.lastIndexOf(".")+1)||"png"==e.fileName.substr(e.fileName.lastIndexOf(".")+1)||"jpeg"==e.fileName.substr(e.fileName.lastIndexOf(".")+1)||"bmp"==e.fileName.substr(e.fileName.lastIndexOf(".")+1)}));t.fileType="img",t.$refs.filePreview.showImage(e,i)}else"docx"==a?(t.fileType="word",t.$refs.filePreview.showWord(e.fileName)):t.$notify({type:"warning",message:"该文件类型暂不支持查看"})}))})),"handleConfirm",(function(){var e=this;this.$dialog.confirm({title:"提示",message:"是否确认信息?"}).then((function(){var t=e.$toast.loading({duration:0,message:"提交中..",forbidClick:!0}),a=[],i={id:e.id};a.push(i),Object(r["c"])(a).then((function(t){var a=t.message;e.$notify({type:"success",message:a}),e.$router.push({name:"CarRentalList",params:{refresh:!0}})})).catch((function(t){e.$toast.fail("提交失败!")})).finally((function(){t.clear()}))})).catch((function(){}))}))},f=o,d=(a("e742"),a("2877")),u=Object(d["a"])(f,i,s,!1,null,"6d77819e",null);t["default"]=u.exports},e742:function(e,t,a){"use strict";a("ecab")},ecab:function(e,t,a){}}]);