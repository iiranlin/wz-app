(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e20e978"],{f527:function(t,s,i){"use strict";i.d(s,"a",(function(){return n})),i.d(s,"c",(function(){return r})),i.d(s,"d",(function(){return c})),i.d(s,"n",(function(){return d})),i.d(s,"g",(function(){return o})),i.d(s,"j",(function(){return l})),i.d(s,"p",(function(){return h})),i.d(s,"f",(function(){return u})),i.d(s,"r",(function(){return p})),i.d(s,"l",(function(){return f})),i.d(s,"h",(function(){return v})),i.d(s,"e",(function(){return g})),i.d(s,"o",(function(){return m})),i.d(s,"m",(function(){return b})),i.d(s,"b",(function(){return _})),i.d(s,"q",(function(){return y})),i.d(s,"i",(function(){return L})),i.d(s,"k",(function(){return C}));var a=i("b775"),e="",n=e+"/dispatch/carPic";function r(t){return Object(a["a"])({url:"/dispatch/dispatchList",method:"GET",params:t})}function c(t){return Object(a["a"])({url:"/dispatch/dispatchedList",method:"GET",params:t})}function d(t){return Object(a["a"])({url:"/dispatch/historyList",method:"GET",params:t})}function o(t){return Object(a["a"])({url:"/dispatch/getAvailableCar",method:"GET",params:t})}function l(t){return Object(a["a"])({url:"/vehicleInfo/getAssignCount",method:"GET",params:t})}function h(t){return Object(a["a"])({url:"/dispatch/saveOrderDispatch",method:"POST",data:t})}function u(t){return Object(a["a"])({url:"/dispatch/reassignment",method:"POST",data:t})}function p(t,s){return Object(a["a"])({url:"/vehicleInfo/".concat(s?"getResAvailableCar":"getAvailableCar"),method:"get",params:t})}function f(t){return Object(a["a"])({url:"/gcjcDriverClass/getRGAvailableDriver",method:"get",params:t})}function v(t){return Object(a["a"])({url:"/gcjcDriverClass/getAvailableDriver",method:"get",params:t})}function g(t){return Object(a["a"])({url:"/gcywVehicleRequest/saveOrderDispatch",method:"POST",data:t})}function m(t){return Object(a["a"])({url:"/gcywVehicleRequest/reassignment",method:"POST",data:t})}function b(t){return Object(a["a"])({url:"/gcjcTurnUnit/listAll",method:"GET",params:t})}function _(t){return Object(a["a"])({url:"/gcywVehicleRequest/redispatch",method:"POST",data:t})}function y(t){return Object(a["a"])({url:"/gcywVehicleRequest/updateRessUnit",method:"post",data:t})}function L(t){return Object(a["a"])({url:"/system/unit/getAvailableUnit",method:"GET",params:t})}function C(t){return Object(a["a"])({url:"/dept/tree",method:"GET",params:t})}},f93e:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{ref:"notClass",staticClass:"not-class"},[s("van-tabs",{attrs:{type:"card",sticky:!0,animated:!0,"offset-top":"0px"}},[s("van-tab",{attrs:{title:"待派单"}},[s("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.dispatchRefresh},model:{value:t.dispatchRefreshLoading,callback:function(s){t.dispatchRefreshLoading=s},expression:"dispatchRefreshLoading"}},[s("van-list",{attrs:{offset:"30",finished:t.dispatchFinished,"finished-text":"没有更多了..."},on:{load:t.dispatchDispatchList},model:{value:t.dispatchLoading,callback:function(s){t.dispatchLoading=s},expression:"dispatchLoading"}},t._l(t.dispatchList,(function(i,a){return s("div",{key:a,staticClass:"list-container"},[s("div",{staticClass:"log-title"},[t._v(t._s(a))]),t._l(i,(function(i,a){return s("ul",{key:a,class:["list-ul","是"===i.cLongDistance?"longway":""],on:{click:function(s){return t.goOrderDetailClick(i.nAutoId,"0")}}},[s("li",{staticClass:"list-li"},[s("div",{staticClass:"li-address"},[s("b",{staticClass:"b1"},[t._v(t._s(i.sFromAddr.split(",")[2]))]),s("b",{staticClass:"b2"},[t._v(t._s(i.sTargetAddr.split(",")[2]))])]),s("div",{staticClass:"li-timestu"},[s("time",[t._v(t._s(t._f("timeAgo")(i.dDepartureTime,"{h}:{i}")))]),s("span",[t._v("出发")]),s("b",{staticClass:"b-status"},[t._v(t._s(i.state))])])]),s("li",{staticClass:"info-label"},[s("span",[t._v("详细地址：")]),s("span",{staticClass:"infor-overflow"},[t._v(t._s(i.sFromAddr.split(",")[3])+" 到 "+t._s(i.sTargetAddr.split(",")[3]))])]),s("li",{staticClass:"info-label"},[s("span",[t._v("分派车辆：")]),s("span",{staticClass:"infor-overflow"},[t._v(t._s(i.hopeCarType))])]),s("li",{staticClass:"info-label"},[s("span",[t._v("分派司机：")]),s("span",[t._v(t._s(i.driverName))])]),s("li",{staticClass:"info-label"},[s("span",[t._v("订 单 号 ：")]),s("span",[t._v(t._s(i.sReqNo))])])])}))],2)})),0)],1)],1),s("van-tab",{attrs:{title:"已派单"}},[s("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.dispatchedRefresh},model:{value:t.dispatchedRefreshLoading,callback:function(s){t.dispatchedRefreshLoading=s},expression:"dispatchedRefreshLoading"}},[s("van-list",{attrs:{offset:"30",finished:t.dispatchedFinished,"finished-text":"没有更多了..."},on:{load:t.dispatchDispatchedList},model:{value:t.dispatchedLoading,callback:function(s){t.dispatchedLoading=s},expression:"dispatchedLoading"}},t._l(t.dispatchedList,(function(i,a){return s("div",{key:a,staticClass:"list-container"},[s("div",{staticClass:"log-title"},[t._v(t._s(a))]),t._l(i,(function(i,a){return s("ul",{key:a,class:["list-ul","是"===i.cLongDistance?"longway":""],on:{click:function(s){return t.goOrderDetailClick(i.nAutoId,"0")}}},[s("li",{staticClass:"list-li"},[s("div",{staticClass:"li-address"},[s("b",{staticClass:"b1"},[t._v(t._s(i.sFromAddr.split(",")[2]))]),s("b",{staticClass:"b2"},[t._v(t._s(i.sTargetAddr.split(",")[2]))])]),s("div",{staticClass:"li-timestu"},[s("time",[t._v(t._s(t._f("timeAgo")(i.dDepartureTime,"{h}:{i}")))]),s("span",[t._v("出发")]),s("b",{staticClass:"b-status"},[t._v(t._s(i.state))])])]),s("li",{staticClass:"info-label"},[s("span",[t._v("详细地址：")]),s("span",{staticClass:"infor-overflow"},[t._v(t._s(i.sFromAddr.split(",")[3])+" 到 "+t._s(i.sTargetAddr.split(",")[3]))])]),s("li",{staticClass:"info-label"},[s("span",[t._v("分派车辆：")]),s("span",{staticClass:"infor-overflow"},[t._v(t._s(i.brand+" "+i.sArrangedCar))])]),s("li",{staticClass:"info-label"},[s("span",[t._v("分派司机：")]),s("span",[t._v(t._s(i.driverName))])]),s("li",{staticClass:"info-label"},[s("span",[t._v("订 单 号 ：")]),s("span",[t._v(t._s(i.sReqNo))])])])}))],2)})),0)],1)],1),s("van-tab",{attrs:{title:"历史订单"}},[s("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.historyRefresh},model:{value:t.historyRefreshLoading,callback:function(s){t.historyRefreshLoading=s},expression:"historyRefreshLoading"}},[s("van-list",{attrs:{offset:"30",finished:t.historyFinished,"finished-text":"没有更多了..."},on:{load:t.dispatchHistoryList},model:{value:t.historyLoading,callback:function(s){t.historyLoading=s},expression:"historyLoading"}},t._l(t.historyList,(function(i,a){return s("div",{key:a,staticClass:"list-container"},[s("div",{staticClass:"log-title"},[t._v(t._s(a))]),t._l(i,(function(i,a){return s("ul",{key:a,class:["list-ul","是"===i.cLongDistance?"longway":""],on:{click:function(s){return t.goOrderDetailClick(i.nAutoId,"5")}}},[s("li",{staticClass:"list-li"},[s("div",{staticClass:"li-address"},[s("b",{staticClass:"b1"},[t._v(t._s(i.sFromAddr.split(",")[2]))]),s("b",{staticClass:"b2"},[t._v(t._s(i.sTargetAddr.split(",")[2]))])]),s("div",{staticClass:"li-timestu"},[s("time",[t._v(t._s(t._f("timeAgo")(i.dDepartureTime,"{h}:{i}")))]),s("span",[t._v("出发")]),s("b",{staticClass:"b-status"},[t._v(t._s(i.state))])])]),s("li",{staticClass:"info-label"},[s("span",[t._v("详细地址：")]),s("span",{staticClass:"infor-overflow"},[t._v(t._s(i.sFromAddr.split(",")[3])+" 到 "+t._s(i.sTargetAddr.split(",")[3]))])]),s("li",{staticClass:"info-label"},[s("span",[t._v("分派车辆：")]),s("span",{staticClass:"infor-overflow"},[t._v(t._s(i.brand+" "+i.sArrangedCar))])]),s("li",{staticClass:"info-label"},[s("span",[t._v("分派司机：")]),s("span",[t._v(t._s(i.driverName))])]),s("li",{staticClass:"info-label"},[s("span",[t._v("订 单 号 ：")]),s("span",[t._v(t._s(i.sReqNo))])])])}))],2)})),0)],1)],1)],1),s("div",{staticClass:"add-btn",on:{click:t.artificial}})],1)},e=[],n=(i("99af"),i("caad"),i("14d9"),i("b64b"),i("2532"),i("f527")),r={beforeRouteEnter:function(t,s,i){"SubSuccess"===s.name?t.meta.keepAlive=!1:t.meta.keepAlive=!0,i((function(s){var i=setTimeout((function(){s.$refs.notClass.scrollTop=t.meta.scrollTop,clearTimeout(i)}),0)}))},beforeRouteLeave:function(t,s,i){if("details"===t.name){var a=this.$refs.notClass,e=a.scrollTop;s.meta.scrollTop=e}i()},data:function(){return{dispatchLoading:!1,dispatchFinished:!1,dispatchRefreshLoading:!1,dispatchList:{},dispatchQuery:{pageSize:20,pageNum:0},dispatchedLoading:!1,dispatchedFinished:!1,dispatchedRefreshLoading:!1,dispatchedList:{},dispatchedQuery:{pageSize:10,pageNum:0},historyLoading:!1,historyFinished:!1,historyRefreshLoading:!1,historyList:{},historyQuery:{pageSize:10,pageNum:0}}},methods:{dispatchRefresh:function(){this.dispatchFinished=!1,this.dispatchQuery.pageNum=0,this.dispatchRefreshLoading=!0,this.dispatchDispatchList()},historyRefresh:function(){this.historyFinished=!1,this.historyQuery.pageNum=0,this.historyRefreshLoading=!0,this.dispatchHistoryList()},dispatchedRefresh:function(){this.dispatchedFinished=!1,this.dispatchedQuery.pageNum=0,this.dispatchedRefreshLoading=!0,this.dispatchDispatchedList()},dispatchDispatchList:function(){var t=this,s=this.dispatchQuery.pageNum;this.dispatchLoading=!0,this.dispatchQuery.pageNum=s+1,Object(n["c"])(this.dispatchQuery).then((function(s){var i=s.data;t.dispatchRefreshLoading&&1===t.dispatchQuery.pageNum&&(t.dispatchList={}),t.dispatchRefreshLoading=!1,0===Object.keys(i).length&&(t.dispatchFinished=!0),t.dispatchLoading=!1,t.dispatchList=t.computedGroupDate(i,"dispatchList")}))},dispatchDispatchedList:function(){var t=this,s=this.dispatchedQuery.pageNum;this.dispatchedLoading=!0,this.dispatchedQuery.pageNum=s+1,Object(n["d"])(this.dispatchedQuery).then((function(s){var i=s.data;t.dispatchedRefreshLoading&&1===t.dispatchedQuery.pageNum&&(t.dispatchedList={}),t.dispatchedRefreshLoading=!1,0===Object.keys(i).length&&(t.dispatchedFinished=!0),t.dispatchedLoading=!1,t.dispatchedList=t.computedGroupDate(i,"dispatchedList")}))},dispatchHistoryList:function(){var t=this,s=this.historyQuery.pageNum;this.historyLoading=!0,this.historyQuery.pageNum=s+1,Object(n["n"])(this.historyQuery).then((function(s){var i=s.data;t.historyRefreshLoading&&1===t.historyQuery.pageNum&&(t.historyList={}),t.historyRefreshLoading=!1,0===Object.keys(i).length&&(t.historyFinished=!0),t.historyLoading=!1,t.historyList=t.computedGroupDate(i,"historyList")}))},computedGroupDate:function(t,s){var i=this[s];for(var a in t)Object.keys(i).includes(a)?i[a]=i[a].concat(t[a]):i[a]=t[a];return i},artificial:function(){this.$router.push({name:"StartApplyings",params:{autoId:"0",type:"0"}})},goOrderDetailClick:function(t,s){this.$store.dispatch("details/setAutoId",t),this.$router.push({name:"details",params:{type:s,autoId:t}})}},created:function(){}},c=r,d=i("2877"),o=Object(d["a"])(c,a,e,!1,null,null,null);s["default"]=o.exports}}]);